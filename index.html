<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>SHADE RADIO</title>
  
  <style>
    * { box-sizing: border-box; font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
    body { background: #000; color: #fff; min-height: 100vh; display: flex; justify-content: center; align-items: center; overflow: hidden; }

    /* LE FOND SMOKY QUE TU AIMES */
    body::before {
      content: ""; position: fixed; inset: 0;
      background: radial-gradient(circle at 50% 30%, rgba(180,0,0,0.4), transparent 70%), 
                  radial-gradient(circle at 20% 80%, rgba(80,0,0,0.3), transparent 60%), #000;
      z-index: -1;
    }

    #app { width: 100%; max-width: 400px; padding: 20px; text-align: center; }

    /* LOGO */
    .radio-logo { width: 220px; margin-bottom: 30px; filter: drop-shadow(0 0 20px rgba(255,0,0,0.3)); }

    /* CONTENEUR POCHETTE + PLAY */
    .cover-wrapper {
      position: relative;
      width: 220px;
      height: 220px;
      margin: 0 auto 20px;
      cursor: pointer;
    }

    /* La pochette via le widget (on ne garde que l'image) */
    #sc-player { width: 100% !important; height: 100% !important; }
    #sc-player img { 
      width: 220px !important; height: 220px !important; 
      border-radius: 30px !important; 
      object-fit: cover !important;
      box-shadow: 0 20px 50px rgba(0,0,0,0.9);
      border: 1px solid rgba(255,255,255,0.1);
    }

    /* LE BOUTON PLAY CENTRAL (SUR-MESURE) */
    .play-overlay {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      width: 80px; height: 80px;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      border: 1px solid rgba(255,255,255,0.2);
      z-index: 100;
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    .play-overlay svg { fill: white; width: 30px; height: 30px; margin-left: 5px; }

    /* Ã‰TAT LECTURE : On cache le bouton et on rÃ©duit l'Ã©chelle */
    .is-playing .play-overlay {
      opacity: 0;
      transform: translate(-50%, -50%) scale(0.5);
      pointer-events: none;
    }

    /* TITRES */
    .track-info { margin-top: 15px; min-height: 50px; }
    #sc-player [class*="title"] { font-size: 18px !important; font-weight: bold !important; color: white !important; text-transform: uppercase; margin-bottom: 5px !important; }
    #sc-player [class*="artist"] { font-size: 14px !important; color: rgba(255,255,255,0.6) !important; }

    /* CACHER LE SURPLUS DU WIDGET */
    #sc-player [class*="controls-container"], 
    #sc-player [class*="play-button"],
    #sc-player [class*="progress"], 
    #sc-player [class*="history"] { display: none !important; }

    /* BOUTONS ACTIONS */
    .actions { display: flex; justify-content: center; gap: 15px; margin-top: 30px; }
    .btn {
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.1);
      padding: 12px 20px; border-radius: 50px;
      color: white; font-size: 13px; font-weight: 600;
      backdrop-filter: blur(5px);
    }
  </style>
</head>

<body>

  <div id="app">
    <img src="assets/logo.PNG" alt="SHADE RADIO" class="radio-logo">

    <div class="cover-wrapper" onclick="togglePlayback()">
      <div class="play-overlay" id="custom-play-btn">
        <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
      </div>
      
      <div id="sc-player" is="player" lang="fr" api-url="https://manager11.streamradio.fr:1700/api/v2" server-id="1" :show-image="true" :show-history="false" :show-share="false" :progress-show="false"></div>
    </div>

    <div class="track-info">
      </div>

    <div class="actions">
      <button class="btn" onclick="window.location.href='mailto:shaderadiolive@gmail.com'">ðŸŽµ Demander</button>
      <button class="btn" onclick="share()">ðŸ“² Partager</button>
    </div>
  </div>

  <script src="https://manager11.streamradio.fr:1700/media/static/js/sc_player/sc_player.js"></script>
  
  <script>
    let playing = false;
    // On utilise ton lien de flux direct pour une rÃ©activitÃ© parfaite
    const audio = new Audio("http://manager11.streamradio.fr:1710/stream");

    function togglePlayback() {
      const app = document.querySelector('.cover-wrapper');
      if (!playing) {
        audio.play();
        app.classList.add('is-playing');
        playing = true;
      } else {
        audio.pause();
        audio.src = "http://manager11.streamradio.fr:1710/stream"; // Reset stream
        app.classList.remove('is-playing');
        playing = false;
      }
    }

    function share() {
      if (navigator.share) {
        navigator.share({ title: 'SHADE RADIO', url: window.location.href });
      }
    }
  </script>
</body>
</html>
